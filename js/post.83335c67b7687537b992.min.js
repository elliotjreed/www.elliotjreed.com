(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{66:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Post",(function(){return h}));var o,r=n(62),a=n(0),c=n(8),i=n(61),s=n(7),l=n(23);(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var u,d,m,p=(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t){var n=e.call(this,t)||this;n.controller=new AbortController;var o=n.props.match.params.post,r=o.replace(/_/g," ");return n.post=r+".md",n.title=r.substr(11),n.date=o.substr(0,10),n.category=n.props.match.params.category,n.description=new Date(n.date).toLocaleDateString("en-GB",{day:"numeric",month:"long",weekday:"long",year:"numeric"})+". "+n.title+".",n.state={content:"",loading:!0},n}return p(t,e),t.prototype.componentDidMount=function(){c.b(window.location.pathname+location.search),this.fetchPost()},t.prototype.componentWillUnmount=function(){this.controller.abort()},t.prototype.render=function(){return a.createElement("main",null,a.createElement(i.Helmet,null,a.createElement("title",null,this.title+" | Elliot J. Reed"),a.createElement("meta",{name:"description",content:this.description})),a.createElement("section",{className:"hero is-info is-small is-bold"},a.createElement("div",{className:"hero-body"})),a.createElement("div",{className:"container home"},a.createElement("article",{className:"articles"},a.createElement("div",{className:"column is-10 is-offset-1"},a.createElement("div",{className:"card article"},a.createElement("div",{className:"card-content"},a.createElement("div",{className:"has-text-centered"},a.createElement("h3",{className:"title article-title"},this.title),a.createElement("div",{className:"tags has-addons level-item"},a.createElement(s.a,{to:"/category/"+this.category,className:"tag is-rounded tag-category"},this.category),a.createElement("time",{dateTime:this.date,className:"tag is-rounded"},this.date))),a.createElement("div",{className:"content article-body"},this.state.loading?a.createElement(l.a,null):a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.content}}))))))))},t.prototype.fetchPost=function(){var e=this;return"caches"in self?caches.open("ejr").then((function(t){t.match("https://api.elliotjreed.com/post/"+e.category+"/"+e.post).then((function(e){return new Promise((function(t,n){e?t(e.clone().text()):n()}))})).then((function(e){return e.substring(e.indexOf("\n")+1)})).then((function(e){return r(e)})).then((function(t){e.setState({content:t.substring(e.state.content.indexOf("\n")+1),loading:!1})})).catch((function(){return e.updateFromNetwork()}))})).catch((function(){return e.updateFromNetwork()})):this.updateFromNetwork()},t.prototype.updateFromNetwork=function(){var e=this;return fetch("https://api.elliotjreed.com/post/"+this.category+"/"+this.post).then((function(t){return new Promise((function(n,o){var r=t.clone();r.ok?("caches"in self&&caches.open("ejr").then((function(t){return t.put("https://api.elliotjreed.com/post/"+e.category+"/"+e.post,r.clone())})).catch(),n(r.clone().text())):o()}))})).then((function(e){return e.substring(e.indexOf("\n")+1)})).then((function(e){return r(e)})).then((function(t){e.setState({content:t.substring(e.state.content.indexOf("\n")+1),loading:!1})})).catch((function(){return e.controller.abort()}))},t}(a.Component);(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(p,"__extends","/home/elliot/Documents/Repositories/Personal/elliotjreed.com/www.elliotjreed.com/src/components/Post.tsx"),d.register(h,"Post","/home/elliot/Documents/Repositories/Personal/elliotjreed.com/www.elliotjreed.com/src/components/Post.tsx")),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)}.call(this,n(9)(e))}}]);
//# sourceMappingURL=post.83335c67b7687537b992.min.js.map